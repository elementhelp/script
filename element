-- Autojoiner Script
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

local API = "https://web-production-d7a92.up.railway.app//get_job"

-- Acest ID va fi inserat automat de BOT când generezi scriptul
local USER_ID = "REPLACE_WITH_ID"

local function fetchJob()
    local url = API .. "?user_id=" .. USER_ID

    local success, response = pcall(function()
        return game:HttpGet(url)
    end)

    if not success then
        warn("❌ Eroare la conectare cu API: " .. tostring(response))
        return nil
    end

    local data
    pcall(function()
        data = HttpService:JSONDecode(response)
    end)

    if data and data.job_id and data.place_id then
        print("✅ Job găsit pentru user " .. USER_ID)
        return data
    else
        warn("❌ Nu am găsit niciun job valid pentru userul " .. USER_ID)
        return nil
    end
end

local function autoJoin()
    local jobData = fetchJob()
    if jobData then
        TeleportService:TeleportToPlaceInstance(
            jobData.place_id,
            jobData.job_id,
            Players.LocalPlayer
        )
    end
end

-- Rulează Autojoiner imediat ce scriptul pornește
autoJoin()
